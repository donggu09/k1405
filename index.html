<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 도우미 AI, 어디까지 써야할까? - 학생 생성형 AI 활용 실태 분석 인포그래픽</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-blue: #2A62B6;
            --secondary-teal: #4ECDC4;
            --accent-grey: #A9A9A9;
            --supporting-light-blue: #E0F2FE;
            --dark-text: #263238;
            --light-background: #FFFFFF;
            --page-background: #F4F7F9;
        }

        body {
            font-family: 'Pretendard', sans-serif; /* Assuming Pretendard is preferred, fallback to sans-serif */
            background-color: var(--page-background);
            color: var(--dark-text);
            line-height: 1.8;
        }

        h1, h2, h3, h4 {
            color: var(--primary-blue);
            font-weight: 700;
            margin-bottom: 0.75rem; /* 12px */
        }
        h1 { font-size: 2.25rem; line-height: 2.5rem; margin-bottom: 1.5rem; } /* 36px, 40px */
        h2 { font-size: 1.875rem; line-height: 2.25rem; margin-top: 2.5rem; } /* 30px, 36px */
        h3 { font-size: 1.5rem; line-height: 2rem; margin-top: 2rem; }    /* 24px, 32px */
        h4 { font-size: 1.25rem; line-height: 1.75rem; margin-top: 1.5rem; color: var(--secondary-teal); } /* 20px, 28px */


        .section-card {
            background-color: var(--light-background);
            border-radius: 0.75rem; /* 12px */
            padding: 1.5rem; /* 24px */
            margin-bottom: 2rem; /* 32px */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .chart-container {
            position: relative; /* Required for Chart.js responsiveness */
            margin-left: auto;
            margin-right: auto;
            padding: 1rem; /* Add some padding around the chart */
            background-color: var(--light-background);
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px 0 rgba(0,0,0,0.1);
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 600;
        }
        .badge-blue {
            background-color: var(--supporting-light-blue);
            color: var(--primary-blue);
        }
        .badge-teal {
            background-color: #D6FFFA; /* Lighter teal for badge */
            color: var(--secondary-teal);
        }

        .custom-list li {
            padding-left: 1.5em;
            position: relative;
        }
        .custom-list li::before {
            content: "✓"; /* Or any other marker */
            color: var(--secondary-teal);
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 2px;
        }

        /* Specific for 해라체 conversion in the content */
        p, li,figcaption {
            font-size: 1rem; /* 16px */
        }
        
        .report-title {
            color: var(--primary-blue);
            text-shadow: 1px 1px 2px var(--accent-grey);
        }

        .interview-quote {
            border-left: 4px solid var(--secondary-teal);
            padding-left: 1rem;
            margin: 1rem 0;
            font-style: italic;
            color: var(--dark-text);
            background-color: var(--supporting-light-blue);
            border-radius: 0 0.375rem 0.375rem 0;
        }

        /* Ensure chart tooltips are styled */
        .chartjs-tooltip {
            background: rgba(0, 0, 0, 0.7) !important;
            color: white !important;
            border-radius: 4px !important;
            padding: 8px !important;
        }
        .chartjs-tooltip-key {
            display: inline-block !important;
            width: 10px !important;
            height: 10px !important;
            margin-right: 5px !important;
        }
        
        /* Word break for Korean text in narrow containers if needed */
        .break-keep-all {
             word-break: keep-all;
        }

    </style>
</head>
<body class="p-4 md:p-8">

    <header class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold report-title break-keep-all">학습 도우미 AI, 어디까지 써야할까?</h1>
        <p class="text-xl text-gray-700 mt-2">학생들의 생성형 AI 활용 실태와 학습 태도 분석</p>
        <p class="text-md text-gray-500 mt-4">미림마이스터고 1학년 4반 4조</p>
        <p class="text-sm text-gray-500">신수아, 이여설, 김진수, 김동현, 조유진</p>
        <p class="text-sm text-gray-500">작성일: 2025년 5월 29일</p>
    </header>

    <main class="max-w-5xl mx-auto">

        <section id="introduction" class="section-card">
            <h2 class="border-b-2 border-primary-blue pb-2">1. 조사 동기와 목적</h2>
            <div class="grid md:grid-cols-2 gap-6 mt-4">
                <div>
                    <h3 class="text-xl font-semibold">가. 조사 동기</h3>
                    <p class="mt-2">최근 AI 기술이 일상에 깊숙이 적용되면서, 특히 학생들이 학습 및 과제 수행 과정에서 AI의 도움을 받는 경우가 증가했다. 그러나 AI에 대한 의존도가 높아짐에 따라, 학생들의 자기 주도적 사고 및 학습 능력 저하에 대한 우려가 제기되었다. 이에 본 조사는 어느 정도까지 AI의 도움을 받는 것이 적절하며, 어느 선에서 스스로 학습해야 하는가?라는 문제의식을 바탕으로 시작했다.</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold">나. 조사 목적</h3>
                    <p class="mt-2">본 조사는 AI를 적절히 활용하면서도 학생 개인의 지식 함양과 사고력 증진을 위한 기준점을 모색하는 것을 목표로 한다. AI 의존을 지양하고 학습 능력을 신장하는 방법과 AI를 효과적인 학습 도구로 활용하는 방법을 균형 있게 파악하여, 또래 학생들과 함께 AI와 현명하게 공존할 수 있는 방향을 제안하고자 한다.</p>
                </div>
            </div>
        </section>

        <section id="methodology" class="section-card">
            <h2 class="border-b-2 border-primary-blue pb-2">2. 조사 계획</h2>
            <ul class="list-disc list-inside mt-4 space-y-3">
                <li><strong class="text-primary-blue">조사 기간:</strong> 2025년 5월 12일 ~ 5월 23일</li>
                <li><strong class="text-primary-blue">조사 대상:</strong> 미림마이스터고 뉴미디어 소프트웨어과 1학년 4반 18명, 조정모, 정재희</li>
                <li><strong class="text-primary-blue">조사 방법:</strong> 설문조사, 인터뷰</li>
            </ul>
        </section>

        <section id="results" class="section-card">
            <h2 class="border-b-2 border-primary-blue pb-2">3. 조사 결과</h2>

            <h3 class="text-xl font-semibold mt-6">가. 설문조사 분석 결과</h3>
            <p class="mt-2 mb-6">설문에 참여한 학생들은 AI를 학습에 유익한 도구로 인식하고 있으나, 무분별한 사용보다는 신중하고 자기 주도적인 활용이 중요하다고 생각하는 경향을 보였다. AI를 학습에 적극적으로 의존하기보다는, 필요한 순간에 힌트를 얻는 수준으로 제한해 사용하는 것이 적절하다는 의견이 가장 많았다.</p>

            <div class="my-8">
                <h4 class="text-center mb-1">AI 답변 이해 및 내재화 노력</h4>
                <p class="text-center text-sm text-gray-600 mb-3">"AI가 제시한 답을 단순히 받아들이기보다 내용을 이해하고 자기 것으로 만들려는 태도를 가지고 있습니까?" (5점 척도)</p>
                <div class="chart-container w-full max-w-2xl mx-auto h-80 md:h-96 max-h-[400px] md:max-h-[450px]">
                    <canvas id="surveyChart1"></canvas>
                </div>
                <figcaption class="text-center text-xs text-gray-500 mt-2">대부분의 학생들은 AI가 제시한 답을 이해하고 자기 것으로 만들려는 태도를 가짐 (매우 그렇다 42.1%, 그렇다 47.4%).</figcaption>
            </div>

            <div class="my-8">
                <h4 class="text-center mb-1">생성형 AI 사용의 사고력/지식 습득 방해 인식</h4>
                <p class="text-center text-sm text-gray-600 mb-3">"생성형 AI 사용이 스스로 사고하는 능력이나 지식 축적에 방해가 된다고 느끼십니까?" (5점 척도)</p>
                <div class="chart-container w-full max-w-2xl mx-auto h-80 md:h-96 max-h-[400px] md:max-h-[450px]">
                    <canvas id="surveyChart2"></canvas>
                </div>
                <figcaption class="text-center text-xs text-gray-500 mt-2">AI 사용이 사고력이나 지식 습득에 방해된다는 인식(그렇다/매우 그렇다 36.9%)과 그렇지 않다는 인식이 혼재함.</figcaption>
            </div>
            
            <div class="my-8">
                <h4 class="text-center mb-1">적절하다고 생각하는 AI 활용 수준</h4>
                 <p class="text-center text-sm text-gray-600 mb-3">학생들이 학습에 효과적이라고 응답한 AI 활용 방식</p>
                <div class="chart-container w-full max-w-md mx-auto h-80 md:h-96 max-h-[350px] md:max-h-[400px]">
                    <canvas id="surveyChart3"></canvas>
                </div>
                <figcaption class="text-center text-xs text-gray-500 mt-2">다수 학생은 AI를 '힌트용' 또는 '기본 개념 참고용'으로 제한적 활용하는 것을 선호함.</figcaption>
            </div>

            <h3 class="text-xl font-semibold mt-10">나. 개별 인터뷰 분석 결과</h3>
            <div class="grid md:grid-cols-2 gap-6 mt-4">
                <div class="p-4 border border-gray-200 rounded-lg bg-slate-50">
                    <h4 class="font-bold text-lg">인터뷰 1: 조정모 학생</h4>
                     <img src="https://via.placeholder.com/400x250/E0F2FE/2A62B6?text=조정모+학생+인터뷰+(이미지+준비중)" alt="조정모 학생 인터뷰 이미지" class="w-full h-auto rounded-md my-3 object-cover">
                    <p class="mt-2 text-sm text-gray-700"><strong>주요 내용:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 mt-1">
                        <li>AI를 다양한 시각과 관점을 제시하는 도구로 인식함.</li>
                        <li>자신이 생각 못 한 문제 접근 방식에 도움을 받는다고 평가함.</li>
                        <li>AI에 대한 지나친 의존은 경계하며, 스스로 해결하려는 태도를 보임.</li>
                        <li>AI 답변의 어색함이나 정보 부정확성을 경험한 적 있음.</li>
                        <li>AI 사용 여부 결정에 명확한 기준이 없으며, 상황에 따라 판단함.</li>
                    </ul>
                    <div class="interview-quote mt-3">
                        <p class="text-sm">"AI는 어디까지나 보조 수단일 뿐... (AI 사용 결정은) 참참참이나 코카콜라 게임으로 정할 수도..."</p>
                    </div>
                </div>

                <div class="p-4 border border-gray-200 rounded-lg bg-slate-50">
                    <h4 class="font-bold text-lg">인터뷰 2: 정재희 학생</h4>
                    <img src="https://via.placeholder.com/400x250/E0F2FE/2A62B6?text=정재희+학생+인터뷰+(이미지+준비중)" alt="정재희 학생 인터뷰 이미지" class="w-full h-auto rounded-md my-3 object-cover">
                    <p class="mt-2 text-sm text-gray-700"><strong>주요 내용:</strong></p>
                    <ul class="list-disc list-inside text-sm space-y-1 mt-1">
                        <li>GPT 제시 코드를 복사하기보다 스스로 해석하고 이해하려 노력함.</li>
                        <li>모르는 내용을 빠르게 해결할 때 AI가 검색보다 효율적이라고 생각함.</li>
                        <li>숙제 시 AI 활용의 장점(혼자 해결)과 단점(마감 직전 복붙 유혹)을 모두 경험함.</li>
                        <li>수행평가에 AI 사용 시 정직하지 않다는 느낌을 받은 경험을 솔직히 이야기함.</li>
                        <li>AI 사용에 별다른 기준 없이, 모르는 것이 있으면 바로 활용함.</li>
                    </ul>
                    <div class="interview-quote mt-3">
                        <p class="text-sm">"GPT 없이도 해결할 수 있도록 공부하는 방식으로 AI를 활용... 모르겠으면 바로 GPT."</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="conclusion" class="section-card">
            <h2 class="border-b-2 border-primary-blue pb-2">4. 결론</h2>

            <h3 class="text-xl font-semibold mt-6">가. 조사 결과 종합 및 주요 발견점 요약</h3>
            <ul class="custom-list list-inside space-y-2 mt-4">
                <li><strong>AI 활용 정도 인식:</strong> 학생들은 AI를 과도하게 의존하기보다 적절히 활용(힌트 52.6%, 개념 참고 26.3%)하는 것을 선호한다.</li>
                <li><strong>AI 답변 이해 및 학습 노력:</strong> 다수(89.5%)가 AI 답변을 이해하며, 이를 바탕으로 자기 지식화하려는 노력을 보인다.</li>
                <li><strong>AI 사용의 방해 요인 인식:</strong> 약 36.8%는 AI 사용이 사고력/지식 축적에 방해될 수 있다고 우려하며, 이에 대한 인식이 다양하게 나타난다.</li>
                <li><strong>AI 사용 기준의 모호성:</strong> AI 사용 시점에 대한 명확한 기준이 없거나 개인별 차이가 있으며, 기준 확립이 미흡한 경우가 있다.</li>
            </ul>

            <h3 class="text-xl font-semibold mt-8">나. 조사를 통해 새롭게 알게 된 점 및 느낀 점</h3>
            <p class="mt-2">학생들은 AI를 학습 도구로 인식하며 적절한 사용 방식을 고민하고 있다. AI 답변을 해석하고 소화하려는 모습은 긍정적이다. 그러나 사고력 저하 우려와 사용 기준 부재는 문제이다. 정보 신뢰성도 고민거리다. 비판적 수용, 윤리적 인식, 자기주도 학습 태도가 중요함을 느꼈다. 우리 반 학생들의 경험은 한국청소년정책연구원의 국가 연구 결과와 유사하며, 이는 AI 시대 청소년 세대 전체의 과제를 반영한다. AI를 답 주는 도구가 아닌 사고 확장 동반자로 보고, 활용법을 스스로 판단하는 힘이 중요하다. 이는 학교 AI 리터러시 교육(비판적 수용, 자기주도 전략, 윤리 의식 함양)의 필요성을 시사한다.</p>

            <h3 class="text-xl font-semibold mt-8">다. 효과적인 AI 활용을 위한 제언</h3>
            <div class="grid md:grid-cols-2 gap-6 mt-4">
                <div class="p-4 bg-supporting-light-blue rounded-lg">
                    <h4 class="font-semibold text-primary-blue">1. '사고 확장 도구'로 활용</h4>
                    <p class="text-sm">AI에게 직접적 답보다 아이디어나 힌트를 얻고, 자신의 생각과 비교하며 사고를 확장한다.</p>
                </div>
                <div class="p-4 bg-supporting-light-blue rounded-lg">
                    <h4 class="font-semibold text-primary-blue">2. 비판적 검토 및 내재화</h4>
                    <p class="text-sm">AI 정보를 맹신 말고 스스로 이해, 검증하며 자신의 언어로 설명할 수 있게 소화한다.</p>
                </div>
                <div class="p-4 bg-supporting-light-blue rounded-lg">
                    <h4 class="font-semibold text-primary-blue">3. 자신만의 AI 사용 기준 정립</h4>
                    <p class="text-sm">학습 목표, 과제 성격, 이해 수준을 고려해 구체적인 상황별 AI 활용 원칙을 세운다.</p>
                </div>
                <div class="p-4 bg-supporting-light-blue rounded-lg">
                    <h4 class="font-semibold text-primary-blue">4. 윤리적 AI 활용 인식 향상</h4>
                    <p class="text-sm">단순 복붙은 표절 문제 야기. 도움 받았음을 밝히고 자신만의 결과물을 만드는 태도를 갖춘다.</p>
                </div>
            </div>

            <h3 class="text-xl font-semibold mt-8">라. 우리의 다짐</h3>
            <p class="mt-2">본 보고서를 작성한 우리는 이번 조사를 통해 생성형 AI의 효과적인 학습 활용에 대한 깊은 통찰을 얻었다. 앞으로 AI를 사용할 때, 조사 결과에서 나타난 우려들을 경계하고 제언한 내용들을 적극 실천하여, AI에 의존하기보다 AI와 함께 성장하며 스스로 생각하는 힘과 지식을 꾸준히 키워나갈 것을 다짐한다. 또한, 우리가 얻은 지식과 경험을 친구들과 공유하며, 다 함께 AI 시대를 현명하게 헤쳐나갈 수 있도록 노력할 것이다.</p>
        </section>

        <section id="references" class="section-card">
            <h2 class="border-b-2 border-primary-blue pb-2">5. 참고 자료</h2>
            <ul class="list-disc list-inside mt-4 space-y-2 text-sm">
                <li><strong>인터뷰 전사:</strong>
                    <ul class="list-circle list-inside ml-4">
                        <li>미림마이스터고등학교 뉴미디어소프트웨어과 1학년 4반 조정모, 정재희 학생 심층 인터뷰 녹취록 (2025.5.)</li>
                        <li>조정모 학생 인터뷰 링크(클로바 노트): <span class="text-gray-600">https://clovanote.naver.com/s/uik7vyEFeyGbNW4ZUzkTGDS</span> (텍스트로 표시)</li>
                        <li>정재희 학생 인터뷰 링크(클로바 노트): <span class="text-gray-600">https://clovanote.naver.com/s/eiyCJgycTZBNpDtxumH7DSS</span> (텍스트로 표시)</li>
                    </ul>
                </li>
                <li><strong>조사 설문지 및 질문지:</strong>
                    <ul class="list-circle list-inside ml-4">
                        <li>미림마이스터고 소프트웨어과 1학년 4반 학생 18명 대상 생성형 AI 활용 실태 설문조사 (2025)</li>
                        <li><span class="text-gray-600">https://docs.google.com/forms/d/e/1FAIpQLSeS9Z-AUznl4zk6i0PDM5AtaoPKUuLyJD1s0XPjAe6kReD7KQ/viewform</span> (텍스트로 표시)</li>
                    </ul>
                </li>
                <li><strong>AI 활용 교육 관련 문헌:</strong>
                    <ul class="list-circle list-inside ml-4">
                        <li>한국청소년정책연구원. (2024). 청소년의 생성형 AI 이용실태 및 리터러시 증진 방안 연구. 연구보고 24-기본02.</li>
                        <li><span class="text-gray-600">https://www.nypi.re.kr/brdrr/boardrrView.do?brd_id=BDIDX_PJk7xvf7L096m1g7Phd3YC&cont_idx=844...</span> (텍스트로 표시)</li>
                    </ul>
                </li>
            </ul>
        </section>
    </main>

    <footer class="text-center mt-12 py-8 border-t border-gray-300">
        <p class="text-sm text-gray-600">미림마이스터고 1학년 4반 4조</p>
        <p class="text-xs text-gray-500 mt-1">인포그래픽 생성: AI 기반 지원 (2025)</p>
    </footer>

    <script>
        const primaryBlue = '#2A62B6';
        const secondaryTeal = '#4ECDC4';
        const accentGrey = '#A9A9A9';
        const supportingLightBlue = '#E0F2FE';
        const darkText = '#263238';

        // Helper function for Chart.js label wrapping (simple version)
        function formatLabel(str, maxWidth) {
            const words = str.split(' ');
            let lines = [];
            let currentLine = words[0];

            if (str.length <= maxWidth || words.length === 1) return str; // No need to wrap short labels or single words

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length > maxWidth) {
                    lines.push(currentLine);
                    currentLine = words[i];
                } else {
                    currentLine += " " + words[i];
                }
            }
            lines.push(currentLine);
            return lines; // Chart.js can handle an array of strings for multiline labels
        }
        
        // Chart.js Global Tooltip Configuration
        Chart.defaults.plugins.tooltip.callbacks.label = function(context) {
            let label = context.dataset.label || '';
            if (label) {
                label += ': ';
            }
            if (context.parsed.y !== null && context.chart.config.type !== 'pie' && context.chart.config.type !== 'doughnut') {
                label += context.parsed.y.toFixed(1) + '%';
            } else if (context.parsed !== null && (context.chart.config.type === 'pie' || context.chart.config.type === 'doughnut')) {
                 label = context.label + ': ' + context.parsed.toFixed(1) + '%';
            }
            return label;
        };
        Chart.defaults.plugins.tooltip.backgroundColor = 'rgba(0, 0, 0, 0.8)';
        Chart.defaults.plugins.tooltip.titleFont = { size: 14, weight: 'bold'};
        Chart.defaults.plugins.tooltip.bodyFont = { size: 12 };
        Chart.defaults.plugins.tooltip.padding = 10;


        // const surveyCtx1 = document.getElementById('surveyChart1').getContext('2d');
        new Chart(surveyCtx1, {
            type: 'bar',
            data: {
                labels: [
                    formatLabel('매우 그렇다', 8), 
                    formatLabel('그렇다', 8), 
                    formatLabel('보통이다', 8), 
                    formatLabel('그렇지 않다', 8), 
                    formatLabel('전혀 그렇지 않다', 10)
                ],
                datasets: [{
                    label: '응답 비율 (%)',
                    data: [42.1, 47.4, 10.5, 0, 0],
                    backgroundColor: [
                        primaryBlue,
                        secondaryTeal,
                        accentGrey,
                        '#FFB1C1', // Lighter red for 'No'
                        '#FF6384'  // Red for 'Strongly No'
                    ],
                    borderColor: darkText,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y', // Horizontal bar chart
                scales: {
                    x: {
                        beginAtZero: true,
                        title: { display: true, text: '응답 비율 (%)', color: darkText, font: {size: 12} },
                        ticks: { color: darkText, font: {size: 10} }
                    },
                    y: {
                         ticks: { color: darkText, font: {size: 11} }
                    }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: false }
                }
            }
        });

        // const surveyCtx2 = document.getElementById('surveyChart2').getContext('2d');
        new Chart(surveyCtx2, {
            type: 'bar',
            data: {
                labels: [
                    formatLabel('매우 그렇다', 8), 
                    formatLabel('그렇다', 8), 
                    formatLabel('보통이다', 8), 
                    formatLabel('그렇지 않다', 8), 
                    formatLabel('전혀 그렇지 않다', 10)
                ],
                datasets: [{
                    label: '응답 비율 (%)',
                    data: [5.3, 31.6, 31.6, 26.3, 5.3], // 5.3+31.6 = 36.9%
                     backgroundColor: [
                        primaryBlue,
                        secondaryTeal,
                        accentGrey,
                        '#B0E0E6', // Powder blue
                        supportingLightBlue
                    ],
                    borderColor: darkText,
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: '응답 비율 (%)', color: darkText, font: {size: 12} },
                        ticks: { color: darkText, font: {size: 10} }
                    },
                    x: {
                         ticks: { color: darkText, font: {size: 11} }
                    }
                },
                plugins: {
                    legend: { display: false },
                    title: { display: false }
                }
            }
        });
        
        // const surveyCtx3 = document.getElementById('surveyChart3').getContext('2d');
        const survey3Data = {
            labels: [
                formatLabel('중간중간 힌트를 받는 정도', 16), 
                formatLabel('기본 개념만 익힐 때 참고용', 16), 
                formatLabel('기타/구체적 언급 없음', 16)
            ],
            datasets: [{
                label: 'AI 활용 수준 (%)',
                data: [52.6, 26.3, (100 - 52.6 - 26.3).toFixed(1)], // Calculate 'Other'
                backgroundColor: [
                    primaryBlue,
                    secondaryTeal,
                    accentGrey
                ],
                hoverOffset: 4
            }]
        };
        new Chart(surveyCtx3, {
            type: 'pie',
            data: survey3Data,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: darkText,
                            font: { size: 11 },
                            boxWidth: 20,
                            padding: 15,
                             // Custom label formatter for legend if needed
                            generateLabels: function(chart) {
                                const data = chart.data;
                                if (data.labels.length && data.datasets.length) {
                                    return data.labels.map(function(label, i) {
                                        const meta = chart.getDatasetMeta(0);
                                        const style = meta.controller.getStyle(i);
                                        // Handle array labels from formatLabel
                                        const labelText = Array.isArray(label) ? label.join(' ') : label;
                                        return {
                                            text: `${labelText}: ${data.datasets[0].data[i]}%`,
                                            fillStyle: style.backgroundColor,
                                            strokeStyle: style.borderColor,
                                            lineWidth: style.borderWidth,
                                            hidden: isNaN(data.datasets[0].data[i]) || meta.data[i].hidden,
                                            index: i
                                        };
                                    });
                                }
                                return [];
                            }
                        }
                    },
                    title: {
                        display: false,
                    }
                }
            }
        });

    </script>
    </body>
</html>